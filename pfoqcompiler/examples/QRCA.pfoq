decl add(a,b,c){
	TOF(a[-1],b[-1],c[-2]);
	CNOT(a[-1],b[-1]);
	TOF(b[-1],c[-1],c[-2]);
	CNOT(b[-1],c[-1]);
	CNOT(a[-1],b[-1]);	
}
decl full_adder(a,b,c){
	if(|c|>1)then{
	call add(a,b,c);
	call full_adder(a-[-1],
			b-[-1],
			c-[-1]);
	}
}
::
define q p r;
::
call full_adder(q,p,r);
