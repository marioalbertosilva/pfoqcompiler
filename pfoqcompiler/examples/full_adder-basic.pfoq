decl full_adder(a){
if(|a|>3)then{
	TOF(a[0],a[1],a[-2]);
	CNOT(a[0],a[1]);
	TOF(a[1],a[-1],a[-2]);
	CNOT(a[1],a[-1]);
	CNOT(a[0],a[1]);
	call full_adder(a-[0,1,-1]);
}
}
::
define q;
::
call full_adder(q);
